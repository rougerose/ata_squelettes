<style>
    .conteneur {
        border: 2px solid red;
        width: 50%;
    }
    .modal {
        width: 100%;
        height: 200px;
        overflow: hidden;
    }
    .inner {
        overflow: scroll;
        height: 100%;
    }
</style>

<div style="display: flex; margin: 4em;">
    <div class="conteneur">
        <div class="modal">
            <div class="inner">
                <INCLURE{fond=inclure/test-modal-asso, env, ajax=modalAsso} />
            </div>
        </div>
        <button id="btnAsso">Association 1</button>
    </div>
    <div class="conteneur" style="border-color: green;">
        <div class="modal modalRecherche">
            <div class="inner">
                <INCLURE{fond=inclure/test-modal-recherche, env, ajax=modalRecherche}/>
            </div>
        </div>
        <button id="btnRecherche">Recherche</button>
    </div>
</div>

<script>
    $(function () {
        let btnAsso = document.getElementById("btnAsso");
        btnAsso.addEventListener("click", (event) => {
            window.ajaxReload("modalAsso", {
                // callback: ,
                args: {id_gis: 1},
                history: true,
            });
        });
        let btnRecherche = document.getElementById("btnRecherche");
        btnRecherche.addEventListener("click", (event) => {
            window.ajaxReload("modalRecherche", {
                callback: handlerClickAsso,
                args: { id_association: [3,4,5,6, 7, 8, 9, 10] },
                history: true,
            });
        });

        function handlerClickAsso(event) {
            let modal = document.querySelector(".modalRecherche");
            let items = modal.querySelectorAll("p");
            items.forEach((item) => {
                item.addEventListener("click", afficherAsso);
            });
        }

        function afficherAsso(event) {
            console.log(event, this);
            let id_association = event.target.id;
            window.ajaxReload("modalAsso", {
                // callback: ,
                args: { id_gis: id_association },
                history: true,
            });
        }
    });


</script>
